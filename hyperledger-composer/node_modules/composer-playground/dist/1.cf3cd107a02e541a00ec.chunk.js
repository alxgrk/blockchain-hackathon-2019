webpackJsonp([1],{2646:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(17),s=t(50),l=t(894),o=t(893),a=t(38),d=t(2668),c=t(2676),p=t(2675),u=t(2677),h=t(2667),f=t(406),g=t(892),v=t(885),m=t(882),y=t(2669),b=function(){function e(){}return e=__decorate([n.NgModule({imports:[r.CommonModule,s.FormsModule,a.NgbModule,l.PerfectScrollbarModule,o.CodemirrorModule,g.DirectivesModule,f.FileImporterModule,v.DeployModule,u.EditorRoutingModule,m.FooterModule],entryComponents:[h.AddFileComponent,y.UpgradeComponent],declarations:[d.EditorComponent,c.EditorFilesPipe,p.EditorFileComponent,h.AddFileComponent,y.UpgradeComponent]})],e)}();i.EditorModule=b},2648:function(e,i,t){var n,r=r||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var i=e.document,t=function(){return e.URL||e.webkitURL||e},n=i.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,s=function(e){var i=new MouseEvent("click");e.dispatchEvent(i)},l=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(i){(e.setImmediate||e.setTimeout)(function(){throw i},0)},d="application/octet-stream",c=4e4,p=function(e){var i=function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()};setTimeout(i,c)},u=function(e,i,t){i=[].concat(i);for(var n=i.length;n--;){var r=e["on"+i[n]];if("function"==typeof r)try{r.call(e,t||e)}catch(e){a(e)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},f=function(i,a,c){c||(i=h(i));var f,g=this,v=i.type,m=v===d,y=function(){u(g,"writestart progress write writeend".split(" "))},b=function(){if((o||m&&l)&&e.FileReader){var n=new FileReader;return n.onloadend=function(){var i=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(i,"_blank")||(e.location.href=i),i=void 0,g.readyState=g.DONE,y()},n.readAsDataURL(i),void(g.readyState=g.INIT)}if(f||(f=t().createObjectURL(i)),m)e.location.href=f;else{e.open(f,"_blank")||(e.location.href=f)}g.readyState=g.DONE,y(),p(f)};if(g.readyState=g.INIT,r)return f=t().createObjectURL(i),void setTimeout(function(){n.href=f,n.download=a,s(n),y(),p(f),g.readyState=g.DONE});b()},g=f.prototype,v=function(e,i,t){return new f(e,i||e.name||"download",t)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,i,t){return i=i||e.name||"download",t||(e=h(e)),navigator.msSaveOrOpenBlob(e,i)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=r:null!==t(2652)&&null!==t(884)&&void 0!==(n=function(){return r}.call(i,t,i,e))&&(e.exports=n)},2652:function(e,i){e.exports=function(){throw new Error("define cannot be used indirect")}},2667:function(e,i,t){"use strict";(function(e){Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(38),s=t(57),l=t(408),o=function(){function i(e,i,t){this.alertService=e,this.activeModal=i,this.fileService=t,this.currentFile=null,this.currentFileName=null,this.fileType="",this.newFile=!1,this.expandInput=!1,this.maxFileSize=5242880,this.supportedFileTypes=[".js",".cto",".md",".acl",".qry"],this.addModelNamespace="org.example.model",this.addModelPath="models/",this.addModelFileExtension=".cto",this.addScriptFileName="lib/script",this.addScriptFileExtension=".js",this.error=null}return i.prototype.removeFile=function(){this.expandInput=!1,this.currentFile=null,this.currentFileName=null,this.fileType=""},i.prototype.fileDetected=function(){this.expandInput=!0},i.prototype.fileLeft=function(){this.expandInput=!1},i.prototype.fileAccepted=function(e){var i=this,t=e.name.substr(e.name.lastIndexOf(".")+1);this.getDataBuffer(e).then(function(n){switch(t){case"js":i.expandInput=!0,i.createScript(e,n);break;case"cto":i.expandInput=!0,i.createModel(e,n);break;case"md":i.expandInput=!0,i.createReadme(n);break;case"acl":i.expandInput=!0,i.createRules(n);break;case"qry":i.expandInput=!0,i.createQuery(n);break;default:throw new Error("Unexpected File Type: "+t)}}).catch(function(e){i.fileRejected(e)})},i.prototype.fileRejected=function(e){this.expandInput=!1,this.alertService.errorStatus$.next(e)},i.prototype.changeCurrentFileType=function(){if(this.newFile=!0,this.currentFile=null,"js"===this.fileType){for(var e="/**\n * New script file\n */",i=this.fileService.getScripts(),t=0,n=this.addScriptFileName+this.addScriptFileExtension;-1!==i.findIndex(function(e){return e.getIdentifier()===n});)n=this.addScriptFileName+t+this.addScriptFileExtension,t++;this.currentFile=this.fileService.createScriptFile(n,"JS",e),this.currentFileName=n}else if("cto"===this.fileType){for(var r=this.fileService.getModelFiles(),t=0,s=this.addModelNamespace;-1!==r.findIndex(function(e){return e.getNamespace()===s});)s=this.addModelNamespace+t,t++;var e="/**\n * New model file\n */\n\nnamespace "+s,l=this.addModelPath+s+this.addModelFileExtension;this.currentFile=this.fileService.createModelFile(e,l),this.currentFileName=l}else if("qry"===this.fileType){var e="/**\n * New query file\n */";this.currentFileName="queries.qry",this.currentFile=this.fileService.createQueryFile(this.currentFileName,e)}else{var e='/**\n * New access control file\n */\n rule AllAccess {\n     description: "AllAccess - grant everything to everybody."\n     participant: "org.hyperledger.composer.system.Participant"\n     operation: ALL\n     resource: "org.hyperledger.composer.system.**"\n     action: ALLOW\n }';this.currentFileName="permissions.acl",this.currentFile=this.fileService.createAclFile(this.currentFileName,e)}},i.prototype.getDataBuffer=function(i){return new Promise(function(t,n){var r=new FileReader;r.readAsArrayBuffer(i),r.onload=function(){var i=e.from(r.result);t(i)},r.onerror=function(e){n(e)}})},i.prototype.createScript=function(e,i){this.fileType="js";var t="lib/"+e.name;this.currentFile=this.fileService.createScriptFile(t,"JS",i.toString()),this.currentFileName=this.currentFile.getIdentifier()},i.prototype.createModel=function(e,i){this.fileType="cto";var t="models/"+e.name;this.currentFile=this.fileService.createModelFile(i.toString(),t),this.currentFileName=this.currentFile.getName()},i.prototype.createReadme=function(e){this.fileType="md",this.currentFile=e.toString(),this.currentFileName="README.md"},i.prototype.createRules=function(e){this.fileType="acl";var i="permissions.acl";this.currentFile=this.fileService.createAclFile(i,e.toString()),this.currentFileName=i},i.prototype.createQuery=function(e){this.fileType="qry";var i="queries.qry";this.currentFile=this.fileService.createQueryFile(i,e.toString()),this.currentFileName=i},i=__decorate([n.Component({selector:"add-file-modal",template:t(2700),styles:[t(2711).toString()]}),__metadata("design:paramtypes",[s.AlertService,r.NgbActiveModal,l.FileService])],i)}();i.AddFileComponent=o}).call(i,t(5).Buffer)},2668:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(38),s=t(2667),l=t(407),o=t(2672),a=t(2669),d=t(79),c=t(57),p=t(408),u=t(134),h=t(3);t(895);var f=t(2648),g=t(409),v=function(){function e(e,i,t,n,r,s){this.clientService=e,this.modalService=i,this.alertService=t,this.fileService=n,this.identityCardService=r,this.sampleBusinessNetworkService=s,this.files=[],this.aboutFileNames=[],this.invalidAboutFileIDs=[],this.currentFile=null,this.deletableFile=!1,this.addModelNamespace="models/org.example.model",this.addScriptFileName="lib/script",this.addScriptFileExtension=".js",this.addModelFileExtension=".cto",this.deploying=!1,this.noError=!0,this.editActive=!1,this.editVersionActive=!1,this.previewReadme=!0,this.businessNetworkName="",this.deployedPackageVersion="",this.inputPackageVersion="",this.invalidPackage=!1,this.alive=!0,this.inputFileNameArray=null,this.fileNameError=null,this.canDeploy=!1}return e.prototype.ngOnInit=function(){var e=this;return this.clientService.ensureConnected().then(function(){e.fileService.businessNetworkChanged$.takeWhile(function(){return e.alive}).subscribe(function(i){e.editorFilesValidate()&&i?e.noError=i:e.noError=!1}),e.fileService.namespaceChanged$.takeWhile(function(){return e.alive}).subscribe(function(i){if(null!==e.currentFile){e.updateFiles();var t=e.findFileIndex(!0,i);e.setCurrentFile(e.files[t])}}),0===e.fileService.getEditorFiles().length&&(e.files=e.fileService.loadFiles(),e.fileService.incrementBusinessNetworkVersion()),e.updatePackageInfo(),e.updateFiles(),e.checkCanDeploy()}).catch(function(i){e.alertService.errorStatus$.next(i)})},e.prototype.ngOnDestroy=function(){this.alive=!1},e.prototype.checkCanDeploy=function(){var e=this.identityCardService.getCurrentIdentityCard(),i=e.getConnectionProfile();this.canDeploy=this.identityCardService.canDeploy(this.identityCardService.getQualifiedProfileName(i))},e.prototype.updatePackageInfo=function(){this.fileService&&(this.businessNetworkName=this.clientService.getBusinessNetwork().getName(),this.deployedPackageVersion=this.clientService.getDeployedBusinessNetworkVersion(),this.inputPackageVersion=this.fileService.getBusinessNetworkVersion(),this.deployedPackageVersion===this.inputPackageVersion&&(this.fileService.incrementBusinessNetworkVersion(),this.inputPackageVersion=this.fileService.getBusinessNetworkVersion()))},e.prototype.setCurrentFile=function(e){var i;i=e.isPackage()||e.isReadMe()?"About":this.findFileIndex(!0,e.id)-this.aboutFileNames.length,this.listItem="editorFileList"+i;var t=null===this.currentFile||e.isPackage()||e.isReadMe()||e.isAcl()||e.isQuery(),n=t||this.currentFile.id!==e.id||this.currentFile.displayID!==e.displayID;(t||n)&&(e.isScript()||e.isModel()||e.isQuery()?this.deletableFile=!0:this.deletableFile=!1,this.editActive=!1,this.fileService.setCurrentFile(e),this.currentFile=e,this.inputFileNameArray=this.formatFileName(e.displayID),this.fileNameError=null)},e.prototype.formatFileName=function(e){var i=[],t=e.indexOf("/")+1,n=e.lastIndexOf(".");return i.push(e.substring(0,t)),i.push(e.substring(t,n)),i.push(e.substring(n,e.length)),i},e.prototype.updateFiles=function(e){void 0===e&&(e=null);var i;this.files=this.fileService.getEditorFiles(),this.aboutFileNames=[];for(var t=0;t<this.files.length;t++){var n=this.files[t];if(!n.isPackage()&&!n.isReadMe()){i||(i=n);break}n.isReadMe()&&(i=n),this.aboutFileNames.push(n.displayID)}e?this.setCurrentFile(e):this.fileService.getCurrentFile()?this.setCurrentFile(this.fileService.getCurrentFile()):i&&this.setCurrentFile(i)},e.prototype.addModelFile=function(e){void 0===e&&(e=null);var i,t,n;if(e)n=e.namespace,t=e.fileName,i=e.definitions;else{n=this.addModelNamespace;for(var r=0;-1!==this.findFileIndex(!0,n);)n=this.addModelNamespace+r,r++;t=n+this.addModelFileExtension,i="/**\n                  * New model file\n                  */\n\n                  namespace "+n}var s=this.fileService.addFile(n,t,i,"model");try{this.fileService.validateFile(s.getId(),s.getType())||this.fileService.updateBusinessNetwork(s.getId(),s)}finally{this.updateFiles(s),this.noError=this.editorFilesValidate()}},e.prototype.addScriptFile=function(e){void 0===e&&(e=null);var i,t;if(e){i=e.getIdentifier();for(var n=1;void 0!==this.fileService.getFile(i,"script");){var r=e.getIdentifier(),s=r.lastIndexOf(".");i=r.substring(0,s)+n+r.substring(s,r.length),n++}t=e.contents}else{i=this.addScriptFileName+this.addScriptFileExtension;for(var n=1;void 0!==this.fileService.getFile(i,"script");)i=this.addScriptFileName+n+this.addScriptFileExtension,n++;t="/**\n          * New script file\n          */"}var l=this.fileService.addFile(i,i,t,"script");try{this.fileService.validateFile(l.getId(),l.getType())||this.fileService.updateBusinessNetwork(l.getId(),l)}finally{this.updateFiles(l),this.noError=this.editorFilesValidate()}},e.prototype.addQueryFile=function(e){var i=this;if(-1!==this.files.findIndex(function(e){return!0===e.isQuery()})){var t=this.modalService.open(o.ReplaceComponent);t.componentInstance.mainMessage="Your current Query file will be replaced with the new one that you are uploading.",t.componentInstance.supplementaryMessage="Please ensure that you have saved a copy of your Query file to disc.",t.componentInstance.resource="file",t.result.then(function(t){i.fileService.deleteFile(null,"query"),i.processQueryFileAddition(e)},function(e){e&&1!==e&&i.alertService.errorStatus$.next(e)})}else this.processQueryFileAddition(e)},e.prototype.processQueryFileAddition=function(e){var i=this.fileService.addFile(e.getIdentifier(),e.getIdentifier(),e.getDefinitions(),"query");try{this.fileService.validateFile(i.getId(),i.getType())||this.fileService.updateBusinessNetwork(i.getId(),i)}finally{this.updateFiles(i),this.noError=this.editorFilesValidate()}},e.prototype.addReadme=function(e){var i=this;if(this.files[0].isReadMe()){var t=this.modalService.open(o.ReplaceComponent);t.componentInstance.mainMessage="Your current README file will be replaced with the new one that you are uploading.",t.componentInstance.supplementaryMessage="Please ensure that you have saved a copy of your README file to disc.",t.componentInstance.resource="file",t.result.then(function(t){i.fileService.setBusinessNetworkReadme(e),i.updateFiles(i.files[0])},function(e){e&&1!==e&&i.alertService.errorStatus$.next(e)})}else this.fileService.setBusinessNetworkReadme(e),this.updateFiles(e)},e.prototype.addRuleFile=function(e){var i=this;if(-1!==this.files.findIndex(function(e){return!0===e.isAcl()})){var t=this.modalService.open(o.ReplaceComponent);t.componentInstance.mainMessage="Your current ACL file will be replaced with the new one that you are uploading.",t.componentInstance.supplementaryMessage="Please ensure that you have saved a copy of your ACL file to disc.",t.componentInstance.resource="file",t.result.then(function(t){i.fileService.deleteFile(null,"acl"),i.processRuleFileAddition(e)},function(e){e&&1!==e&&i.alertService.errorStatus$.next(e)})}else this.processRuleFileAddition(e)},e.prototype.processRuleFileAddition=function(e){var i=this.fileService.addFile(e.getIdentifier(),e.getIdentifier(),e.getDefinitions(),"acl");try{this.fileService.validateFile(i.getId(),i.getType())||this.fileService.updateBusinessNetwork(i.getId(),i)}finally{this.updateFiles(i),this.noError=this.editorFilesValidate()}},e.prototype.exportBNA=function(){var e=this;return this.fileService.getBusinessNetwork().toArchive().then(function(i){var t=new Blob([i],{type:"application/octet-stream"});f.saveAs(t,e.fileService.getBusinessNetworkName()+".bna")})},e.prototype.openAddFileModal=function(){var e=this,i=this.modalService.open(s.AddFileComponent);i.componentInstance.files=this.files,i.result.then(function(i){if(0!==i)try{i instanceof h.ModelFile?e.addModelFile(i):i instanceof h.Script?e.addScriptFile(i):i instanceof h.AclFile?e.addRuleFile(i):i instanceof h.QueryFile?e.addQueryFile(i):e.addReadme(i),e.fileService.businessNetworkChanged$.next(!0)}catch(i){e.alertService.errorStatus$.next(i)}},function(i){i&&1!==i&&e.alertService.errorStatus$.next(i)})},e.prototype.deploy=function(){var e=this;if(!this.deploying){this.deploying=!0;var i,t=this.fileService.getBusinessNetwork(),n=this.identityCardService.getCurrentIdentityCard(),s=n.getConnectionProfile(),l=this.identityCardService.getQualifiedProfileName(s);if("web"===n.getConnectionProfile()["x-type"]){var o=this.identityCardService.getCurrentCardRef();i=this.sampleBusinessNetworkService.upgradeBusinessNetwork(t,o,o)}else if(this.identityCardService.canDeploy(l)){var d=this.modalService.open(a.UpgradeComponent);i=d.result.then(function(i){return e.sampleBusinessNetworkService.upgradeBusinessNetwork(t,i.peerCardRef,i.channelCardRef)},function(e){throw e})}else this.alertService.errorStatus$.next("<p>You must import business network cards with the correct admin rights before you can deploy new versions of a business network.</p>");return i?i.then(function(){e.updatePackageInfo(),e.updateFiles(),e.fileService.changesDeployed(),e.alertService.busyStatus$.next(null),e.alertService.successStatus$.next({title:"Changes deployed",text:"Your most recent set of changes were successfully deployed via a chaincode upgrade",icon:"#icon-deploy_24"}),e.deploying=!1}).catch(function(i){e.deploying=!1,i&&i!==r.ModalDismissReasons.BACKDROP_CLICK&&i!==r.ModalDismissReasons.ESC&&(e.updatePackageInfo(),e.updateFiles(),e.alertService.busyStatus$.next(null),e.alertService.errorStatus$.next(i))}):(this.deploying=!1,Promise.resolve())}},e.prototype.setReadmePreview=function(e){this.previewReadme=e,this.setCurrentFile(this.fileService.getEditorReadMe())},e.prototype.editPackageJson=function(){this.setCurrentFile(this.fileService.getEditorPackageFile())},e.prototype.toggleEditVersionActive=function(){this.editVersionActive=!this.editVersionActive},e.prototype.toggleEditActive=function(){this.editActive=!this.editActive},e.prototype.editFileName=function(){if(this.fileNameError=null,!0===new RegExp(/^(([a-z_\-0-9\.]|[A-Z_\-0-9\.])+)$/).test(this.inputFileNameArray[1])){var e=this.inputFileNameArray[0]+this.inputFileNameArray[1]+this.inputFileNameArray[2];if(-1!==this.findFileIndex(!1,e)&&this.currentFile.displayID!==e)this.fileNameError="Error: Filename already exists";else if(this.currentFile.isScript())if(this.currentFile.id!==e){var i=this.fileService.getScriptFile(this.currentFile.id).getContents();this.fileService.replaceBusinessNetworkFile(this.currentFile.id,e,i,"script");var t=this.fileService.replaceFile(this.currentFile.id,e,i,"script");this.files=this.fileService.getEditorFiles(),this.setCurrentFile(t)}else this.editActive=!1;else if(this.currentFile.isModel())if(this.currentFile.displayID!==e){var i=this.fileService.getModelFile(this.currentFile.id).getDefinitions();this.fileService.replaceBusinessNetworkFile(this.currentFile.id,e,i,"model");var t=this.fileService.replaceFile(this.currentFile.id,e,i,"model");this.files=this.fileService.getEditorFiles(),this.setCurrentFile(t)}else this.editActive=!1;else this.fileNameError="Error: Unable to process rename on current file type"}else this.fileNameError="Error: Invalid filename, file must be alpha-numeric with no spaces"},e.prototype.editorFileVersionChange=function(e){this.inputPackageVersion=e.version,this.invalidPackage=e.jsonErr},e.prototype.updateVersion=function(){this.toggleEditVersionActive();try{var e=this.fileService.updateBusinessNetworkVersion(this.inputPackageVersion);this.fileService.updateBusinessNetwork(e.getId(),e),this.fileService.businessNetworkChanged$.next(!0)}catch(e){this.fileService.businessNetworkChanged$.next(!1)}},e.prototype.openDeleteFileModal=function(){var e=this,i=this.modalService.open(l.DeleteComponent),t=this.currentFile;i.componentInstance.headerMessage="Delete File",i.componentInstance.deleteFile=t,i.componentInstance.deleteMessage="This file will be removed from your business network definition, which may stop your business network from working and may limit access to data that is already stored in the business network.",i.result.then(function(i){if(i){if(e.alertService.busyStatus$.next({title:"Deleting file within business network",text:"deleting "+e.fileService.getBusinessNetworkName()}),t.isScript()){e.fileService.getBusinessNetwork().getScriptManager().deleteScript(t.id),e.fileService.deleteFile(t.id,"script")}else if(t.isModel()){var n=e.fileService.getBusinessNetwork().getModelManager();n.deleteModelFile(t.id),e.fileService.deleteFile(t.id,"model")}else{if(!t.isQuery())throw new Error("Unable to process delete on selected file type");var r=e.fileService.getBusinessNetwork().getQueryManager();r.deleteQueryFile(),e.fileService.deleteFile(t.id,"query")}e.updateFiles(),e.noError=e.editorFilesValidate(),e.alertService.busyStatus$.next(null),e.alertService.successStatus$.next({title:"Delete Successful",text:e.fileType(t)+" File "+t.displayID+" was deleted.",icon:"#icon-bin_icon"})}},function(i){i&&1!==i&&(e.alertService.busyStatus$.next(null),e.alertService.errorStatus$.next(i))}).catch(function(i){e.alertService.busyStatus$.next(null),e.alertService.errorStatus$.next(i)})},e.prototype.fileType=function(e){return e.isModel()?"Model":e.isScript()?"Script":e.isAcl()?"ACL":e.isQuery()?"Query":e.isPackage()?"Package":"Readme"},e.prototype.preventNameEdit=function(e){return!!(e.isReadMe()||e.isPackage()||e.isAcl()||e.isQuery())},e.prototype.findFileIndex=function(e,i){return e?this.files.findIndex(function(e){return e.id===i}):this.files.findIndex(function(e){return e.displayID===i})},e.prototype.editorFilesValidate=function(){this.invalidAboutFileIDs=[];for(var e=!0,i=0,t=this.files;i<t.length;i++){var n=t[i];n.isModel()?null!==this.fileService.validateFile(n.id,"model")?(e=!1,n.invalid=!0):n.invalid=!1:n.isAcl()?null!==this.fileService.validateFile(n.id,"acl")?(e=!1,n.invalid=!0):n.invalid=!1:n.isScript()?null!==this.fileService.validateFile(n.id,"script")?(e=!1,n.invalid=!0):n.invalid=!1:n.isQuery()?null!==this.fileService.validateFile(n.id,"query")?(e=!1,n.invalid=!0):n.invalid=!1:n.isPackage()&&(null!==this.fileService.validateFile(n.id,"package")?(e=!1,n.invalid=!0,this.invalidAboutFileIDs.push(n.id)):n.invalid=!1)}if(e)for(var r=0,s=this.files;r<s.length;r++){var n=s[r];this.fileService.updateBusinessNetwork(n.id,n)}return e},e=__decorate([n.Component({selector:"app-editor",template:t(2702),styles:[t(2713).toString()]}),__metadata("design:paramtypes",[d.ClientService,r.NgbModal,c.AlertService,p.FileService,u.IdentityCardService,g.SampleBusinessNetworkService])],e)}();i.EditorComponent=v},2669:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(38),s=t(134),l=function(){function e(e,i){this.activeModal=e,this.identityCardService=i,this.peerCardRefs=[],this.channelCardRefs=[]}return e.prototype.ngOnInit=function(){var e=this.identityCardService.getCurrentIdentityCard(),i=this.identityCardService.getQualifiedProfileName(e.getConnectionProfile());this.peerCardRefs=this.identityCardService.getIdentityCardRefsWithProfileAndRole(i,"PeerAdmin"),this.channelCardRefs=this.identityCardService.getIdentityCardRefsWithProfileAndRole(i,"ChannelAdmin"),this.peerCardRefs.length>0&&(this.selectedPeerCardRef=this.peerCardRefs[0]),this.channelCardRefs.length>0&&(this.selectedChannelCardRef=this.channelCardRefs[0])},e.prototype.onPeerCardSelect=function(e){this.selectedPeerCardRef=e},e.prototype.onChannelCardSelect=function(e){this.selectedChannelCardRef=e},e.prototype.upgrade=function(){this.activeModal.close({peerCardRef:this.selectedPeerCardRef,channelCardRef:this.selectedChannelCardRef})},e=__decorate([n.Component({selector:"upgrade-modal",template:t(2703),styles:[t(2714).toString()]}),__metadata("design:paramtypes",[r.NgbActiveModal,s.IdentityCardService])],e)}();i.UpgradeComponent=l},2672:function(e,i,t){"use strict";function n(e){for(var t in e)i.hasOwnProperty(t)||(i[t]=e[t])}Object.defineProperty(i,"__esModule",{value:!0}),n(t(889))},2675:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(408),s=t(411),l=t(2696);t(277),t(207),t(273),t(271),t(272),t(274),t(275),t(276);var o=function(){function e(e){this.fileService=e,this.packageJsonVersionChange=new n.EventEmitter,this.changingCurrentFile=!1,this.code=null,this.readme=null,this.previousCode=null,this.previousPackageVersion=null,this.codeConfig={lineNumbers:!0,lineWrapping:!0,readOnly:!1,mode:"javascript",autofocus:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],scrollbarStyle:"simple"},this.mdCodeConfig={lineNumbers:!0,lineWrapping:!0,readOnly:!1,mode:"markdown",autofocus:!0,extraKeys:{"Ctrl-Q":function(e){e.foldCode(e.getCursor())}},foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],scrollbarStyle:"simple"},this.currentError=null,this._previewReadmeActive=!1}return Object.defineProperty(e.prototype,"editorFile",{set:function(e){e&&(this._editorFile=e,this.loadFile())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewReadmeActive",{set:function(e){this._previewReadmeActive=e},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._editorFile&&this._editorFile.isPackage())try{var e=JSON.parse(this._editorFile.getContent()).version;this.previousPackageVersion!==e&&(this.previousPackageVersion=e,this.loadFile())}catch(e){}},e.prototype.loadFile=function(){if(this.changingCurrentFile=!0,this.currentError=null,this._editorFile.isModel()){var e=this.fileService.getFile(this._editorFile.getId(),"model");e?(this.editorContent=e.getContent(),this.editorType="code",this.currentError=this.fileService.validateFile(this._editorFile.getId(),"model")):this.editorContent=null}else if(this._editorFile.isScript()){var i=this.fileService.getFile(this._editorFile.getId(),"script");i?(this.editorContent=i.getContent(),this.editorType="code",this.currentError=this.fileService.validateFile(this._editorFile.getId(),"script")):this.editorContent=null}else if(this._editorFile.isAcl()){var t=this.fileService.getFile(this._editorFile.getId(),"acl");t?(this.editorContent=t.getContent(),this.editorType="code",this.currentError=this.fileService.validateFile(this._editorFile.getId(),"acl")):this.editorContent=null}else if(this._editorFile.isPackage()){var n=this.fileService.getFile(this._editorFile.getId(),"package");this.editorContent=n.getContent(),this.editorType="code",this.currentError=this.fileService.validateFile(this._editorFile.getId(),"package")}else if(this._editorFile.isReadMe()){var r=this.fileService.getFile(this._editorFile.getId(),"readme");r&&(this.editorContent=r.getContent(),this.previewContent=l(r.getContent()),this.editorType="readme")}else if(this._editorFile.isQuery()){var s=this.fileService.getFile(this._editorFile.getId(),"query");s?(this.editorContent=s.getContent(),this.editorType="code",this.currentError=this.fileService.validateFile(this._editorFile.getId(),"query")):this.editorContent=null}else this.editorContent=null;this.changingCurrentFile=!1,this.previousCode=this.editorContent},e.prototype.onCodeChanged=function(){this.changingCurrentFile||this.editorContent!==this.previousCode&&(this.previousCode=this.editorContent,this.setCurrentCode())},e.prototype.setCurrentCode=function(){var e;this.currentError=null;try{if(this._editorFile.isModel())e="model";else if(this._editorFile.isScript())e="script";else if(this._editorFile.isAcl())e="acl";else if(this._editorFile.isQuery())e="query";else if(this._editorFile.isPackage()){e="package";var i=void 0,t=void 0;try{i=JSON.parse(this.editorContent).version,t=!1}catch(e){i=null,t=!0}this.packageJsonVersionChange.emit({version:i,jsonErr:t})}else this._editorFile.isReadMe()&&(e="readme",this.previewContent=l(this.editorContent));var n=this.fileService.updateFile(this._editorFile.getId(),this.editorContent,e);this.fileService.updateBusinessNetwork(this._editorFile.getId(),n),this.fileService.businessNetworkChanged$.next(!0)}catch(e){this.currentError=e.toString(),this.fileService.businessNetworkChanged$.next(!1)}},__decorate([n.Output(),__metadata("design:type",Object)],e.prototype,"packageJsonVersionChange",void 0),__decorate([n.Input(),__metadata("design:type",s.EditorFile),__metadata("design:paramtypes",[s.EditorFile])],e.prototype,"editorFile",null),__decorate([n.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],e.prototype,"previewReadmeActive",null),e=__decorate([n.Component({selector:"editor-file",template:t(2701),styles:[t(2712).toString()]}),__metadata("design:paramtypes",[r.FileService])],e)}();i.EditorFileComponent=o},2676:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=function(){function e(){}return e.prototype.transform=function(e){return e.filter(function(e){return!(e.isPackage()||e.isReadMe())})},e=__decorate([n.Pipe({name:"editorFilesFilter"})],e)}();i.EditorFilesPipe=r},2677:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(2),r=t(135),s=t(2668),l=function(){function e(){}return e=__decorate([n.NgModule({imports:[r.RouterModule.forChild([{path:"",component:s.EditorComponent}])],exports:[r.RouterModule]})],e)}();i.EditorRoutingModule=l},2688:function(e,i,t){i=e.exports=t(20)(),i.push([e.i,"add-file-modal .import{width:700px;height:100%;display:flex;flex-direction:column}add-file-modal .import .file-types-list{max-height:100%;padding-right:0;margin-top:16px}add-file-modal .import .file-types-list .selection-disabled{opacity:.5}add-file-modal .import .file-types-list .file-types-list-item{background-color:#f9f9f9;padding:16px;width:100%}add-file-modal .import .file-types-list .file-types-list-item:nth-child(2n){background-color:#fdfdfd}add-file-modal .import .file-types-list .file-types-list-item .description{font-style:italic;padding-left:2em}add-file-modal .import .file-types-list .file-types-list-item label.radio-label{font-weight:700}add-file-modal .import .file-types-list .file-types-list-item label.radio-label:before{top:8px}add-file-modal .import .file-types-list .file-types-list-item label.radio-label:after{top:13px}add-file-modal .import section{font-size:.9em}add-file-modal .import section file-importer{margin-top:16px}add-file-modal .import section span{color:#8c9696}add-file-modal .import section .chosen-file{flex:1;display:flex;flex-direction:column;background-color:#f9f9f9;padding:16px}add-file-modal .import section .chosen-file .title{font-weight:700}add-file-modal .import section .chosen-file .file-info{display:flex;justify-content:space-between;border-bottom:1px solid #b8c1c1;padding-bottom:16px;align-items:center}add-file-modal .import section .chosen-file .file-info svg{fill:#3f55af;width:76px;height:76px;margin-right:16px}add-file-modal .import section .chosen-file .file-info .file-title{display:flex;flex-direction:column;justify-content:center}add-file-modal .import section .chosen-file .file-info .file-title span{color:#19273c;font-style:italic}add-file-modal .import section .chosen-file .file-content{margin-top:16px;flex:1;display:flex;justify-content:space-between}add-file-modal .import section .chosen-file .file-content .network-part{margin-bottom:8px}add-file-modal .import section .github-spinner{height:200px;width:465px;display:flex;align-items:center;justify-content:center}add-file-modal .import section .github-spinner .circle-path{stroke:#3f55af}add-file-modal .import section form{max-height:200px;overflow-y:auto;margin-top:16px}",""])},2689:function(e,i,t){i=e.exports=t(20)(),i.push([e.i,"editor-file .business-network-details{display:flex;height:50px}editor-file .business-network-details .margin-right{margin-right:8px}editor-file .business-network-details .edit-package-text{font-style:italic}editor-file .business-network-details .edit-label{line-height:2.5rem;font-weight:700}.scrollbar-padding{border-radius:4px;background:#262a35;color:#fff;padding:16px 16px 16px 0}.scrollbar-padding .CodeMirror-simplescroll-vertical{margin:0}.scrollbar-padding .CodeMirror-lines{margin-top:0}.CodeMirror{font-family:Source Code Pro;height:calc(100vh - 320px)}.ps.ps--active-x>.ps__scrollbar-x-rail,.ps.ps--active-y>.ps__scrollbar-y-rail{opacity:.6}",""])},2690:function(e,i,t){i=e.exports=t(20)(),i.push([e.i,"app-editor{width:100%}app-editor,app-editor .side-bar{display:flex}app-editor .side-bar .error_dot{align-self:center}app-editor .side-bar .files{flex:1;display:flex;flex-direction:column;overflow-y:auto}app-editor .side-bar .files>*{padding:16px 32px}app-editor .side-bar .files .side-bar-nav{padding:0;max-height:60vh;overflow-y:auto;min-height:90px}app-editor .side-bar .files .side-bar-nav .error{color:#e62325}app-editor .side-bar .files .side-bar-nav ul li div{padding:0}app-editor .side-bar .actions{background-color:#f9f9f9;border-top:1px solid #f1f3f7;padding:4px 32px;display:flex;flex-direction:row;justify-content:flex-start}app-editor .side-bar .actions .add-file,app-editor .side-bar .actions .download-action{flex:1}app-editor .side-bar .deploy{background-color:#f9f9f9;border-top:1px solid #f1f3f7;padding:0 32px 32px}app-editor .side-bar .deploy h2{margin-bottom:16px}app-editor .side-bar .deploy .busnet-version{min-height:2.2rem;display:flex;flex-direction:row}app-editor .side-bar .deploy .busnet-version .poc{margin:0}app-editor .side-bar .deploy .busnet-version .semver,app-editor .side-bar .deploy .busnet-version .semver-label,app-editor .side-bar .deploy .busnet-version .semver-value{display:block;line-height:2rem;font-size:.8rem}app-editor .side-bar .deploy .busnet-version .semver-label{flex:1;font-weight:700;font-size:.8rem;color:#8c9696}app-editor .side-bar .deploy .busnet-version .semver-value{flex:4;display:flex;flex-direction:row;min-width:0}app-editor .side-bar .deploy .busnet-version .semver-value .semver{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-style:italic}app-editor .side-bar .deploy .busnet-version .semver-value .semver svg.error-dot{width:12px;height:12px}app-editor .side-bar .deploy .busnet-version button{margin-left:8px;vertical-align:top;line-height:2rem;font-size:.8rem}app-editor .side-bar .deploy .busnet-version input[type=text]{margin:0;background-color:#fff;font-size:.8rem;line-height:unset;height:1.8rem}app-editor .side-bar .deploy .error{color:#e62325}app-editor svg.nav-icon{width:32px;height:16px}app-editor .main-view{display:flex;flex-direction:column}app-editor .main-view .business-network-details{display:flex;height:50px;margin-bottom:0}app-editor .main-view .business-network-details .business-network-description{margin-right:8px;max-width:20rem;color:#8c9696;position:relative}app-editor .main-view .business-network-details .business-network-description p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}app-editor .main-view .business-network-details .business-network-description .tooltiptext{top:2.5rem}app-editor .main-view .business-network-details .business-network-description:hover .tooltiptext{visibility:visible}app-editor .main-view .business-network-details .file-name{margin-right:8px;margin-bottom:.3rem;color:#8c9696}app-editor .main-view .business-network-details .edit-package-text{font-style:italic}app-editor .main-view .business-network-details .edit-label{line-height:1.8rem;font-weight:700;flex:0 0 auto}app-editor .main-view .business-network-details .edit-file-hidden{margin-top:.25rem;line-height:1.7rem;color:#8c9696;flex-shrink:1}app-editor .main-view .business-network-details .edit-file-label{margin-top:.3rem;line-height:1.8rem;font-weight:700;color:#19273c;flex-shrink:1;margin-right:1rem;font-size:14px}app-editor .main-view .business-network-details .edit-file-row{flex:2;display:flex}app-editor .main-view .business-network-details .edit-file-row .edit-file-value{flex-basis:50%;display:flex;flex-direction:column}app-editor .main-view .business-network-details .edit-file-row .edit-file-value input{height:1.8rem}app-editor .main-view .business-network-details .error-message{margin-top:-1rem}app-editor .main-view .readme{background-color:#fdfdfd;padding:32px;min-height:72vh;max-height:72vh;overflow-y:auto}app-editor .main-view .readme pre{font-size:.8rem;color:#fdfdfd;background-color:#272b36}app-editor .main-view .readme pre code{background-color:transparent;border:none;font-size:.7rem}app-editor .main-view .readme code{border:1px solid #e3ecec;background-color:#fdfdfd;border-radius:2px;padding:1px 5px}app-editor .main-view .delete_icon,app-editor .main-view .edit_icon{flex-shrink:1;align-self:center;padding-top:4px}app-editor .main-view .delete_icon{margin-left:auto}app-editor .main-view .readme_icon_preview .readme_icon_edit .readme_icon_settings{flex-shrink:1;padding-top:4px;padding-right:10px}app-editor .main-view .readme_icon_preview{margin-left:auto}app-editor .CodeMirror{font-family:Source Code Pro}app-editor .ps.ps--active-x>.ps__scrollbar-x-rail,app-editor .ps.ps--active-y>.ps__scrollbar-y-rail{opacity:.6}",""])},2691:function(e,i,t){i=e.exports=t(20)(),i.push([e.i,"upgrade-modal .card-select{display:flex;color:#8c9696;align-content:flex-start}upgrade-modal .card-select .card-select-label{flex:1}upgrade-modal .card-select .card-select-item{flex:4}upgrade-modal .card-select .card-select-item .dropdown{margin:0}",""])},2696:function(e,i,t){(function(i){(function(){function i(e){this.tokens=[],this.tokens.links={},this.options=e||p.defaults,this.rules=u.normal,this.options.gfm&&(this.options.tables?this.rules=u.tables:this.rules=u.gfm)}function t(e,i){if(this.options=i||p.defaults,this.links=e,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(e){this.options=e||{}}function r(e){this.tokens=[],this.token=null,this.options=e||p.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,i){return e.replace(i?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,i){return i=i.toLowerCase(),"colon"===i?":":"#"===i.charAt(0)?"x"===i.charAt(1)?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""})}function o(e,i){return e=e.source,i=i||"",function t(n,r){return n?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,r),t):new RegExp(e,i)}}function a(e,i){return baseUrls[" "+e]||(/^[^:]+:\/*[^\/]*$/.test(e)?baseUrls[" "+e]=e+"/":baseUrls[" "+e]=e.replace(/[^\/]*$/,"")),e=baseUrls[" "+e],"//"===i.slice(0,2)?e.replace(/:[^]*/,":")+i:"/"===i.charAt(0)?e.replace(/(:\/*[^\/]*)[^]*/,"$1")+i:e+i}function d(){}function c(e){for(var i,t,n=1;n<arguments.length;n++){i=arguments[n];for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}function p(e,t,n){if(n||"function"==typeof t){n||(n=t,t=null),t=c({},p.defaults,t||{});var l,o,a=t.highlight,d=0;try{l=i.lex(e,t)}catch(e){return n(e)}o=l.length;var u=function(e){if(e)return t.highlight=a,n(e);var i;try{i=r.parse(l,t)}catch(i){e=i}return t.highlight=a,e?n(e):n(null,i)};if(!a||a.length<3)return u();if(delete t.highlight,!o)return u();for(;d<l.length;d++)(function(e){"code"!==e.type?--o||u():a(e.text,e.lang,function(i,t){return i?u(i):null==t||t===e.text?--o||u():(e.text=t,e.escaped=!0,void(--o||u()))})})(l[d])}else try{return t&&(t=c({},p.defaults,t)),r.parse(i.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||p.defaults).silent)return"<p>An error occured:</p><pre>"+s(e.message+"",!0)+"</pre>";throw e}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:d,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:d,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:d,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=o(u.item,"gm")(/bull/g,u.bullet)(),u.list=o(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=o(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=o(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=c({},u),u.gfm=c({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=o(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=c({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=u,i.lex=function(e,t){return new i(t).lex(e)},i.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},i.prototype.token=function(e,i,t){for(var n,r,s,l,o,a,d,c,p,e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(i&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].split(/ *\| */);this.tokens.push(a)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,i,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),l=s[2],this.tokens.push({type:"list_start",ordered:l.length>1}),s=s[0].match(this.rules.item),n=!1,p=s.length,c=0;c<p;c++)a=s[c],d=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(d-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+d+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(o=u.bullet.exec(s[c+1])[0],l===o||l.length>1&&o.length>1||(e=s.slice(c+1).join("\n")+e,c=p-1)),r=n||/\n\n(?!\s*$)/.test(a),c!==p-1&&(n="\n"===a.charAt(a.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(a,!1,t),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!t&&i&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(i&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(i&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:d,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:d,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=o(h.link)("inside",h._inside)("href",h._href)(),h.reflink=o(h.reflink)("inside",h._inside)(),h.normal=c({},h),h.pedantic=c({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=c({},h.normal,{escape:o(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=c({},h.gfm,{br:o(h.br)("{2,}","*")(),text:o(h.gfm.text)("{2,}","*")()}),t.rules=h,t.output=function(e,i,n){return new t(i,n).output(e)},t.prototype.output=function(e){for(var i,t,n,r,l="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),l+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(t=s(":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1])),n=this.mangle("mailto:")+t):(t=s(r[1]),n=t),l+=this.renderer.link(n,null,t);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):s(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,l+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),i=(r[2]||r[1]).replace(/\s+/g," "),!(i=this.links[i.toLowerCase()])||!i.href){l+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(r,i),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),l+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),l+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),l+=this.renderer.codespan(s(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),l+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),l+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),l+=this.renderer.text(s(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),t=s(r[1]),n=t,l+=this.renderer.link(n,null,t);return l},t.prototype.outputLink=function(e,i){var t=s(i.href),n=i.title?s(i.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(t,n,this.output(e[1])):this.renderer.image(t,n,s(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var i,t="",n=e.length,r=0;r<n;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),t+="&#"+i+";";return t},n.prototype.code=function(e,i,t){if(this.options.highlight){var n=this.options.highlight(e,i);null!=n&&n!==e&&(t=!0,e=n)}return i?'<pre><code class="'+this.options.langPrefix+s(i,!0)+'">'+(t?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(t?e:s(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,i,t){return"<h"+i+' id="'+this.options.headerPrefix+t.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+i+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,i){var t=i?"ol":"ul";return"<"+t+">\n"+e+"</"+t+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,i){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+i+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,i){var t=i.header?"th":"td";return(i.align?"<"+t+' style="text-align:'+i.align+'">':"<"+t+">")+e+"</"+t+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,i,t){if(this.options.sanitize){try{var n=decodeURIComponent(l(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return""}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return""}this.options.baseUrl&&!originIndependentUrl.test(e)&&(e=a(this.options.baseUrl,e));var r='<a href="'+e+'"';return i&&(r+=' title="'+i+'"'),r+=">"+t+"</a>"},n.prototype.image=function(e,i,t){this.options.baseUrl&&!originIndependentUrl.test(e)&&(e=a(this.options.baseUrl,e));var n='<img src="'+e+'" alt="'+t+'"';return i&&(n+=' title="'+i+'"'),n+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},r.parse=function(e,i,t){return new r(i,t).parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var i="";this.next();)i+=this.tok();return i},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,i,t,n,r="",s="";for(t="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),t+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(t),e=0;e<this.token.cells.length;e++){for(i=this.token.cells[e],t="",n=0;n<i.length;n++)t+=this.renderer.tablecell(this.inline.output(i[n]),{header:!1,align:this.token.align[n]});s+=this.renderer.tablerow(t)}return this.renderer.table(r,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",l=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,l);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var o=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(o);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},baseUrls={},originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,d.exec=d,p.options=p.setOptions=function(e){return c(p.defaults,e),p},p.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1,baseUrl:null},p.Parser=r,p.parser=r.parse,p.Renderer=n,p.Lexer=i,p.lexer=i.lex,p.InlineLexer=t,p.inlineLexer=t.output,p.parse=p,e.exports=p}).call(function(){return this||("undefined"!=typeof window?window:i)}())}).call(i,t(8))},2700:function(e,i){e.exports='\x3c!--\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n--\x3e\n<div class="import" fileDragDrop (fileDragDropFileAccepted)="fileAccepted($event)"\n     (fileDragDropFileRejected)="fileRejected($event)"\n     (fileDragDropDragOver)="fileDetected($event)" (fileDragDropDragLeave)="fileLeft($event)"\n     [maxFileSize]="maxFileSize" [supportedFileTypes]="supportedFileTypes">\n  <div class="modal-header">\n    <h1>Add a file</h1>\n    <button id="add-file_exit" class="icon modal-exit" (click)="activeModal.dismiss()">\n      <svg class="ibm-icon" aria-hidden="true">\n        <use xlink:href="#icon-close_new"></use>\n      </svg>\n    </button>\n  </div>\n  <section class="modal-body">\n    <span>Upload a file from your computer...</span>\n    <file-importer (fileAccepted)="fileAccepted($event)" (fileRejected)="fileRejected($event)" [expandInput]="expandInput"\n                   [maxFileSize]="maxFileSize" [supportedFileTypes]="supportedFileTypes" [ngClass]="{\'expandFile\': expandInput}" [svgName]="\'#icon-CTO_JS_Upload\'"></file-importer>\n    <div class="chosen-file" *ngIf="expandInput && currentFile">\n      <div class="file-info">\n        <div class="flex-container">\n          <svg class="ibm-icon" aria-hidden="true">\n            <use xlink:href="#icon-ACL_File" *ngIf="fileType===\'acl\'"></use>\n            <use xlink:href="#icon-CTO_File" *ngIf="fileType===\'cto\'"></use>\n            <use xlink:href="#icon-JS_File" *ngIf="fileType===\'js\'"></use>\n            <use xlink:href="#icon-MD_File" *ngIf="fileType===\'md\'"></use>\n            <use xlink:href="#icon-QRY_File" *ngIf="fileType===\'qry\'"></use>\n          </svg>\n          <div class="file-title">\n            <div class="title">{{currentFileName}}</div>\n            <div *ngIf="fileType===\'cto\'">\n              <span>{{currentFile.getAssetDeclarations().length}} Assets</span>\n              <span>{{currentFile.getParticipantDeclarations().length}} Participants</span>\n              <span>{{currentFile.getTransactionDeclarations().length}} Transactions</span>\n            </div>\n            <div *ngIf="fileType===\'js\'">\n              <span>{{currentFile.getFunctionDeclarations().length}} Functions</span>\n            </div>\n          </div>\n        </div>\n        <div>\n          <button role="button" type="button" class="action" (click)="removeFile()">Remove File</button>\n        </div>\n      </div>\n    </div>\n    <form class="file-types-list" #f="ngForm" *ngIf="!expandInput">\n      <div class="file-types-list-item">\n        <input type="radio" id="file-type-cto" name="file-type" [(ngModel)]="fileType" value="cto"\n               (change)="changeCurrentFileType()">\n        <label class="radio-label" for="file-type-cto">Model File (.cto)</label>\n        <div class="description">\n          Define Assets, Participants and Transactions using Hyperledger Composer modelling langauge.\n        </div>\n      </div>\n      <div class="file-types-list-item">\n        <input type="radio" id="file-type-js" name="file-type" [(ngModel)]="fileType" value="js"\n               (change)="changeCurrentFileType()">\n        <label class="radio-label" for="file-type-js">Script File (.js)</label>\n        <div class="description">\n          Define the logic of transaction executions using JavaScript.\n        </div>\n      </div>\n      <div class="file-types-list-item">\n        <input type="radio" id="file-type-qry" name="file-type-qry" [(ngModel)]="fileType" value="qry"\n               (change)="changeCurrentFileType()">\n        <label class="radio-label" for="file-type-qry">Query File (.qry)</label>\n        <div class="description">\n          Define the queries in here (Note: you can only have 1 of these per .bna).\n        </div>\n      </div>\n      <div class="file-types-list-item">\n        <input type="radio" id="file-type-acl" name="file-type-acl" [(ngModel)]="fileType" value="acl"\n               (change)="changeCurrentFileType()">\n        <label class="radio-label" for="file-type-acl">Access Control File (permissions.acl)</label>\n        <div class="description">\n          Define your access controls here (Note: you can only have 1 of these per .bna).\n        </div>\n      </div>\n    </form>\n  </section>\n  <footer>\n    <button id="add-file_cancel" type="button" class="secondary" (click)="activeModal.dismiss();">\n      <span>Cancel</span>\n    </button>\n    <button id="add-file_confirm"type="button" class="primary" (click)="activeModal.close(currentFile);" [disabled]="!currentFile">\n      <span>Add</span>\n    </button>\n  </footer>\n</div>\n'},2701:function(e,i){e.exports='\x3c!--\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n--\x3e\n<perfect-scrollbar class="readme" *ngIf="editorType === \'readme\' && _previewReadmeActive" [innerHTML]="previewContent">\n</perfect-scrollbar>\n\n<div class="scrollbar-padding" *ngIf="editorType === \'code\'">\n  <codemirror id="editor-file_CodeMirror" debounce name="editorCodeMirror" [(ngModel)]="editorContent"\n            [config]="(editorType === \'readme\') ? mdCodeConfig : codeConfig" (debounceFunc)="onCodeChanged()" [delay]="700" width="100%" height="100%" ngDefaultControl>\n  </codemirror>\n</div>\n\n<div class="scrollbar-padding" *ngIf="!_previewReadmeActive && editorType === \'readme\'">\n  <codemirror id="editor-file_CodeMirror" debounce name="editorCodeMirror" [(ngModel)]="editorContent"\n            [config]="(editorType === \'readme\') ? mdCodeConfig : codeConfig" (debounceFunc)="onCodeChanged()" [delay]="700" width="100%" height="100%" ngDefaultControl>\n  </codemirror>\n</div>\n\n<div class="alert-area" role="alert" *ngIf="editorType !== \'readme\' && currentError">\n  <svg class="ibm-icon" aria-hidden="true">\n    <use xlink:href="#icon-spell_check_error"></use>\n  </svg>\n  <div class="alert-message" role="alert">\n    <h3>Error found!</h3>\n    <p>{{currentError}}</p>\n  </div>\n</div>\n\n<div class="alert-area" role="alert" *ngIf="(editorType === \'code\' || !_previewReadmeActive) && !currentError">\n  <svg class="ibm-icon" aria-hidden="true">\n    <use xlink:href="#icon-spell_check"></use>\n  </svg>\n  <div class="alert-message" role="alert">\n    <h3>Everything looks good!</h3>\n    <p>Any problems detected in your code would be reported here</p>\n  </div>\n</div>\n'},2702:function(e,i){e.exports='\x3c!--\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n--\x3e\n<section class="side-bar">\n    <div class="files">\n        <h2>Files</h2>\n        <perfect-scrollbar class="side-bar-nav" scroll-to-element [elementId]="listItem">\n            <ul *ngIf="currentFile">\n                <li *ngIf="aboutFileNames && aboutFileNames.length > 0" #editorFileList id="editorFileListAbout"\n                    [class.active]="currentFile.isPackage() || currentFile.isReadMe()" (click)="setCurrentFile(files[0])">\n                    <div class="flex-container">\n                        <div class="flex">\n                            <h3 [class.error]="invalidAboutFileIDs && invalidAboutFileIDs.length > 0">About</h3>\n                            <div [class.error]="invalidAboutFileIDs && invalidAboutFileIDs.length > 0">{{aboutFileNames.join(\', \')}}</div>\n                        </div>\n                        <div *ngIf="invalidAboutFileIDs && invalidAboutFileIDs.length > 0" class="error_dot">\n                            <svg class="ibm-icon" aria-hidden="true">\n                                <use xlink:href="#icon-error_dot"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </li>\n                <li #editorFileList id="editorFileList{{fileIndex}}" *ngFor="let file of (files | editorFilesFilter); let fileIndex = index"\n                    [class.active]="file.getId() === currentFile.getId()" (click)="setCurrentFile(file)">\n                    <div class="flex-container">\n                        <div class="flex">\n                            <h3 [class.error]="file.invalid" *ngIf="file.isModel()">Model File</h3>\n                            <h3 [class.error]="file.invalid" *ngIf="file.isScript()">Script File</h3>\n                            <h3 [class.error]="file.invalid" *ngIf="file.isAcl()">Access Control</h3>\n                            <h3 [class.error]="file.invalid" *ngIf="file.isQuery()">Query File</h3>\n                            <div [class.error]="file.invalid">{{file.displayID}}</div>\n                        </div>\n                        <div *ngIf="file.invalid" class="error_dot">\n                            <svg class="ibm-icon" aria-hidden="true">\n                                <use xlink:href="#icon-error_dot"></use>\n                            </svg>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n        </perfect-scrollbar>\n    </div>\n    <div class="actions">\n        <div class="add-file">\n            <button id="editor_addfile" class="action" type="button" (click)="openAddFileModal()">\n                <svg class="standard-icon" aria-hidden="true">\n                    <use xlink:href="#icon-file_32"></use>\n                </svg>\n                Add a file...\n            </button>\n        </div>\n        <div class="download-action">\n            <button id="editor_export" type="button" class="action" (click)="exportBNA()">\n                <svg class="standard-icon" aria-hidden="true">\n                    <use xlink:href="#icon-download_32"></use>\n                </svg>\n                Export\n            </button>\n        </div>\n    </div>\n\n    <div *ngIf="canDeploy" class="deploy">\n        <h2>Update Network</h2>\n\n        <div class="busnet-version">\n            <span class="semver-label">From:</span>\n            <span class="semver-value"><span class="semver">{{deployedPackageVersion}}</span></span>\n        </div>\n    \n        <div class="busnet-version" *ngIf="!invalidPackage" [class.error]="invalidAboutFileIDs && invalidAboutFileIDs.length > 0">\n            <span class="semver-label">To:</span>\n            <span *ngIf="!editVersionActive" class="semver-value">\n                <span class="semver">\n                    <svg *ngIf="invalidAboutFileIDs && invalidAboutFileIDs.length > 0" class="ibm-icon error-dot" aria-hidden="true">\n                        <use xlink:href="#icon-error_dot"></use>\n                    </svg>\n                    {{inputPackageVersion}}\n                </span>\n                <button *ngIf="!editVersionActive" id="editVersionButton" type="button" class="action" (click)="toggleEditVersionActive()">\n                    <svg class="ibm-icon vertical-top" aria-hidden="true">\n                        <use xlink:href="#icon-edit_24"></use>\n                    </svg>\n                </button>\n            </span>\n\n            <input *ngIf="editVersionActive" class="semver-value" type="text" [(ngModel)]="inputPackageVersion" (blur)="updateVersion()" />\n        </div>\n\n        <div class="busnet-version error" *ngIf="invalidPackage" >\n            <span class="semver-value" >Invalid package.json</span>\n        </div>\n\n        <button id="editor_deploy" type="button" class="primary" (click)="deploy()" [disabled]="!fileService.isDirty() || !noError">\n            Deploy changes\n        </button>\n    </div>\n</section>\n\n<section class="main-view">\n    <div class="main-view-content">\n        <div>\n            <div *ngIf="!editActive" class="business-network-details">\n                <div style="flex-shrink:1;align-self: center">\n                    <h1 *ngIf="currentFile && (fileType(currentFile)==\'Readme\' || fileType(currentFile)==\'Package\')" class="margin-right">About File</h1>\n                </div>\n                <div style="flex-shrink:1;align-self: center">\n                    <h1 *ngIf="currentFile && fileType(currentFile)!=\'Readme\' && fileType(currentFile)!=\'Package\'" class="margin-right">{{\n                        fileType(currentFile) }} File</h1>\n                </div>\n                <div *ngIf="currentFile" style="flex-shrink:1;align-self:center"\n                     class="file-name small">{{currentFile.displayID}}\n                </div>\n                <div *ngIf="(currentFile && !preventNameEdit(currentFile))" class="edit_icon">\n                    <button id="editFileButton" type="button" class="action" (click)="toggleEditActive()">\n                        <svg class="ibm-icon vertical-top" aria-hidden="true">\n                            <use xlink:href="#icon-edit_24"></use>\n                        </svg>\n                    </button>\n                </div>\n                <div *ngIf="deletableFile" class="delete_icon">\n                    <button id="deleteFileButton" type="button" class="action" (click)="openDeleteFileModal()">\n                        <svg class="ibm-icon vertical-top" aria-hidden="true">\n                            <use xlink:href="#icon-bin_icon"></use>\n                        </svg>\n                    </button>\n                </div>\n\n                <div *ngIf="currentFile && aboutFileNames && aboutFileNames.length > 1 && (fileType(currentFile)==\'Readme\' || fileType(currentFile)==\'Package\')" class="readme_icon_preview">\n                    <button id="previewReadmeButton" type="button" class="action" [class.active]="currentFile.isReadMe() && previewReadme"\n                            (click)="setReadmePreview(true)">\n                        <svg class="ibm-icon vertical-top" aria-hidden="true">\n                            <use xlink:href="#icon-view_24"></use>\n                        </svg>\n                    </button>\n                </div>\n\n                <div *ngIf="currentFile && aboutFileNames && aboutFileNames.length > 1 && (fileType(currentFile)==\'Readme\' || fileType(currentFile)==\'Package\')" class="readme_icon_edit">\n                    <button id="editReadmeButton" type="button" class="action" [class.active]="currentFile && currentFile.isReadMe() && !previewReadme"\n                            (click)="setReadmePreview(false)">\n                        <svg class="ibm-icon vertical-top" aria-hidden="true">\n                            <use xlink:href="#icon-code_24"></use>\n                        </svg>\n                    </button>\n                </div>\n\n                <div *ngIf="currentFile && aboutFileNames && aboutFileNames.length > 1 && (fileType(currentFile)==\'Readme\' || fileType(currentFile)==\'Package\')" class="readme_icon_settings">\n                    <button id="editPackageButton" type="button" class="action" [class.active]="currentFile && currentFile.isPackage()"\n                            (click)="editPackageJson()">\n                        <svg class="ibm-icon vertical-top" aria-hidden="true">\n                            <use xlink:href="#icon-manage_24"></use>\n                        </svg>\n                    </button>\n                </div>\n            </div>\n\n            <div *ngIf="editActive && fileType(currentFile)!=\'Package\' && fileType(currentFile)!=\'Readme\'" class="business-network-details">\n                <div class="flex-container" style="flex-direction:column">\n                    <div class="edit-file-row">\n                        <label class="edit-file-label" for="editName">Name</label>\n                        <div *ngIf="fileType(currentFile)==\'Model\'" class="edit-file-hidden">models/</div>\n                        <div *ngIf="fileType(currentFile)==\'Script\'" class="edit-file-hidden">lib/</div>\n                        <div class="edit-file-value">\n                            <input *ngIf="!fileNameError" style="margin-top: 0.2rem" type="text" (blur)="editFileName()"\n                                   [(ngModel)]="inputFileNameArray[1]">\n                            <input *ngIf="fileNameError" class="error-underline" style="margin-top: 0.2rem" type="text"\n                                   (blur)="editFileName()" [(ngModel)]="inputFileNameArray[1]">\n                        </div>\n                        <div *ngIf="fileType(currentFile)==\'Model\'" class="edit-file-hidden">.cto</div>\n                        <div *ngIf="fileType(currentFile)==\'Script\'" class="edit-file-hidden">.js</div>\n                    </div>\n                    <div *ngIf="fileNameError" class="error-message">\n                        {{fileNameError}}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="flex">\n            <editor-file (packageJsonVersionChange)="editorFileVersionChange($event)" [editorFile]="currentFile" [previewReadmeActive]="previewReadme"></editor-file>\n        </div>\n    </div>\n    <app-footer></app-footer>\n</section>\n'},2703:function(e,i){e.exports='\x3c!--\n Licensed under the Apache License, Version 2.0 (the "License");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an "AS IS" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n--\x3e\n<div class="modal-header">\n    <h1>Upgrade business network</h1>\n    <button id="upgrade-file_exit" class="icon modal-exit" (click)="activeModal.dismiss()">\n        <svg class="ibm-icon" aria-hidden="true">\n            <use xlink:href="#icon-close_new"></use>\n        </svg>\n    </button>\n</div>\n<section class="modal-body">\n    <div>\n        <p>Please select the business network cards with the correct permissions for installing and upgrading the business network.</p>\n    </div>\n\n    <div class="card-select">\n        <div class="card-select-label">\n            <p>Installation card</p>\n        </div>\n        <div class="card-select-item">\n            <div ngbDropdown class="d-inline-block">\n                <button type="button" class="action" id="peerAdminDropdownMenu" ngbDropdownToggle><span\n                    title="{{selectedPeerCardRef}}">{{selectedPeerCardRef}}</span></button>\n                <div class="dropdown-menu" id="peerAdminDropdownOptions" aria-labelledby="peerAdminDropdownMenu">\n                    <button class="dropdown-item action " *ngFor="let cardRef of peerCardRefs"\n                            (click)="onPeerCardSelect(cardRef)">{{cardRef}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="card-select">\n        <div class="card-select-label">\n            <p>Upgrade card</p>\n        </div>\n        <div class="card-select-item">\n            <div ngbDropdown class="d-inline-block">\n                <button type="button" class="action" id="channelAdminDropdownMenu" ngbDropdownToggle><span\n                    title="{{selectedChannelCardRef}}">{{selectedChannelCardRef}}</span></button>\n                <div class="dropdown-menu" id="channelAdminDropdownOptions" aria-labelledby="channelAdminDropdownMenu">\n                    <button class="dropdown-item action " *ngFor="let cardRef of channelCardRefs"\n                            (click)="onChannelCardSelect(cardRef)">{{cardRef}}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div>\n        <p>Upgrading a business network may take several minutes, ensure you\'ve included all the intended changes.</p>\n    </div>\n</section>\n<footer>\n    <button id="upgrade_cancel" type="button" class="secondary" (click)="activeModal.dismiss();">\n        <span>Cancel</span>\n    </button>\n    <button autofocus id="upgrade_confirm" type="button" class="primary" (click)="upgrade()"\n            [disabled]="!selectedPeerCardRef || !selectedChannelCardRef">\n        <span>Upgrade</span>\n    </button>\n</footer>\n'},2711:function(e,i,t){var n=t(2688);"string"==typeof n&&(n=[[e.i,n,""]]);t(23)(n,{});n.locals&&(e.exports=n.locals)},2712:function(e,i,t){var n=t(2689);"string"==typeof n&&(n=[[e.i,n,""]]);t(23)(n,{});n.locals&&(e.exports=n.locals)},2713:function(e,i,t){var n=t(2690);"string"==typeof n&&(n=[[e.i,n,""]]);t(23)(n,{});n.locals&&(e.exports=n.locals)},2714:function(e,i,t){var n=t(2691);"string"==typeof n&&(n=[[e.i,n,""]]);t(23)(n,{});n.locals&&(e.exports=n.locals)}});